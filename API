import requests
import json

def get_access_token(API_KEY, SECRET_KEY):
    token_url = "https://aip.baidubce.com/oauth/2.0/token"
    params = {
        "grant_type": "client_credentials",
        "client_id": API_KEY,
        "client_secret": SECRET_KEY
    }
    response = requests.post(token_url, params=params)
    return response.json().get("access_token")

API_KEY = "6u7t7l89LUEoptjPSKE159LR"
SECRET_KEY = "5LUE2alGMr9OOjqEQRBiEZHyi3VONhTB"
access_token = get_access_token(API_KEY, SECRET_KEY)
print(access_token)

def ask_wenxin(question, access_token):
    url = "https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application/v1?_=1728899036419"
    headers = {
        'Content-Type': 'application/json',
        'Authorization': f'Bearer {access_token}'
    }
    data = {
        "prompt": question,
        "max_tokens": 150
    }
    response = requests.post(url, headers=headers, json=data)
    return response.json()

question = "你好，文心一言！"
result = ask_wenxin(question, access_token)
print(result)
